{"ast":null,"code":"// CategoryPage.js\nimport React from'react';import{useParams}from'react-router-dom';import ProductList from'./ProductList';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CategoryPage=_ref=>{let{products,searchTerm,loading,error,currentUser,favorites,toggleFavorite}=_ref;const{categoryName}=useParams();if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error.message]});}const decodedCategoryName=decodeURIComponent(categoryName);// Создаем массив ключевых слов для каждой категории\nconst getKeywordsForCategory=category=>{const keywordsMap={'Диваны и кресла':['диван','кресло','софа','канапе'],'Шкафы и стеллажи':['шкаф','стеллаж','гардероб','полка'],'Кровати и матрасы':['кровать','матрас','спальня','изголовье'],'Тумбы и комоды':['тумба','комод','прикроватная','туалетная'],'Столы и стулья':['стол','стул','табурет','обеденный'],'Детская мебель':['детск','ребенок','кроватка','игровой']};return keywordsMap[category]||[category===null||category===void 0?void 0:category.toLowerCase()];};const keywords=getKeywordsForCategory(decodedCategoryName);const searchTermLower=searchTerm.toLowerCase();const categoryFilteredProducts=products.filter(product=>{// Проверяем совпадение с любым из ключевых слов категории\nif(!product||!product.name)return false;const productNameLower=(product.name||'').toLowerCase();const productDescLower=(product.description||'').toLowerCase();const productCategoryLower=(product.category||'').toLowerCase();const matchesCategory=keywords.some(keyword=>productNameLower.includes(keyword)||productCategoryLower.includes(keyword));// Проверяем совпадение с поисковым запросом\nconst matchesSearch=searchTermLower===''||productNameLower.includes(searchTermLower)||productDescLower.includes(searchTermLower);return matchesCategory&&matchesSearch;});return/*#__PURE__*/_jsxs(\"div\",{className:\"category-page\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F: \",decodedCategoryName]}),categoryFilteredProducts.length>0?/*#__PURE__*/_jsx(ProductList,{products:categoryFilteredProducts,currentUser:currentUser,favorites:favorites,toggleFavorite:toggleFavorite}):/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u0435\\u0442 \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432 \\u0432 \\u0434\\u0430\\u043D\\u043D\\u043E\\u0439 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438.\"})]});};export default CategoryPage;","map":{"version":3,"names":["React","useParams","ProductList","jsx","_jsx","jsxs","_jsxs","CategoryPage","_ref","products","searchTerm","loading","error","currentUser","favorites","toggleFavorite","categoryName","children","message","decodedCategoryName","decodeURIComponent","getKeywordsForCategory","category","keywordsMap","toLowerCase","keywords","searchTermLower","categoryFilteredProducts","filter","product","name","productNameLower","productDescLower","description","productCategoryLower","matchesCategory","some","keyword","includes","matchesSearch","className","length"],"sources":["C:/Users/Yulia/OneDrive - Peter the Great St. Petersburg Polytechnical University/Рабочий стол/bound/OPD_site/src/components/CategoryPage.js"],"sourcesContent":["// CategoryPage.js\r\nimport React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport ProductList from './ProductList';\r\n\r\nconst CategoryPage = ({ products, searchTerm, loading, error, currentUser, favorites, toggleFavorite }) => {\r\n    const { categoryName } = useParams();\r\n\r\n    if (loading) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    if (error) {\r\n        return <div>Error: {error.message}</div>;\r\n    }\r\n\r\n    const decodedCategoryName = decodeURIComponent(categoryName);\r\n    \r\n    // Создаем массив ключевых слов для каждой категории\r\n    const getKeywordsForCategory = (category) => {\r\n        const keywordsMap = {\r\n            'Диваны и кресла': ['диван', 'кресло', 'софа', 'канапе'],\r\n            'Шкафы и стеллажи': ['шкаф', 'стеллаж', 'гардероб', 'полка'],\r\n            'Кровати и матрасы': ['кровать', 'матрас', 'спальня', 'изголовье'],\r\n            'Тумбы и комоды': ['тумба', 'комод', 'прикроватная', 'туалетная'],\r\n            'Столы и стулья': ['стол', 'стул', 'табурет', 'обеденный'],\r\n            'Детская мебель': ['детск', 'ребенок', 'кроватка', 'игровой']\r\n        };\r\n        \r\n        return keywordsMap[category] || [category?.toLowerCase()];\r\n    };\r\n\r\n    const keywords = getKeywordsForCategory(decodedCategoryName);\r\n    const searchTermLower = searchTerm.toLowerCase();\r\n\r\n    const categoryFilteredProducts = products.filter(product => {\r\n        // Проверяем совпадение с любым из ключевых слов категории\r\n        if (!product || !product.name) return false;\r\n        \r\n        const productNameLower = (product.name || '').toLowerCase();\r\n        const productDescLower = (product.description || '').toLowerCase();\r\n        const productCategoryLower = (product.category || '').toLowerCase();\r\n\r\n        const matchesCategory = keywords.some(keyword => \r\n            productNameLower.includes(keyword) || \r\n            productCategoryLower.includes(keyword)\r\n        );\r\n        \r\n        // Проверяем совпадение с поисковым запросом\r\n        const matchesSearch = searchTermLower === '' || \r\n        productNameLower.includes(searchTermLower) ||\r\n        productDescLower.includes(searchTermLower);\r\n\r\n        return matchesCategory && matchesSearch;\r\n    });\r\n\r\n    return (\r\n        <div className=\"category-page\">\r\n            <h2>Категория: {decodedCategoryName}</h2>\r\n            {categoryFilteredProducts.length > 0 ? (\r\n                <ProductList\r\n                    products={categoryFilteredProducts}\r\n                    currentUser={currentUser}\r\n                    favorites={favorites}\r\n                    toggleFavorite={toggleFavorite}\r\n                />\r\n            ) : (\r\n                <p>Нет товаров в данной категории.</p>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CategoryPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}