{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yulia\\\\OneDrive - Peter the Great St. Petersburg Polytechnical University\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\bound\\\\OPD_site\\\\src\\\\components\\\\CategoryPage.js\",\n  _s = $RefreshSig$();\n// CategoryPage.js\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport ProductList from './ProductList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CategoryPage = ({\n  products,\n  searchTerm,\n  loading,\n  error,\n  currentUser,\n  favorites,\n  toggleFavorite\n}) => {\n  _s();\n  const {\n    categoryName\n  } = useParams();\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 16\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 16\n    }, this);\n  }\n  const decodedCategoryName = decodeURIComponent(categoryName);\n\n  // Создаем массив ключевых слов для каждой категории\n  const getKeywordsForCategory = category => {\n    const keywordsMap = {\n      'Диваны и кресла': ['диван', 'кресло', 'софа', 'канапе'],\n      'Шкафы и стеллажи': ['шкаф', 'стеллаж', 'гардероб', 'полка'],\n      'Кровати и матрасы': ['кровать', 'матрас', 'спальня', 'изголовье'],\n      'Тумбы и комоды': ['тумба', 'комод', 'прикроватная', 'туалетная'],\n      'Столы и стулья': ['стол', 'стул', 'табурет', 'обеденный'],\n      'Детская мебель': ['детск', 'ребенок', 'кроватка', 'игровой']\n    };\n    return keywordsMap[category] || [category === null || category === void 0 ? void 0 : category.toLowerCase()];\n  };\n  const keywords = getKeywordsForCategory(decodedCategoryName);\n  const searchTermLower = searchTerm.toLowerCase();\n  const categoryFilteredProducts = products.filter(product => {\n    // Проверяем совпадение с любым из ключевых слов категории\n    if (!product || !product.name) return false;\n    const productNameLower = (product.name || '').toLowerCase();\n    const productDescLower = (product.description || '').toLowerCase();\n    const productCategoryLower = (product.category || '').toLowerCase();\n    const matchesCategory = keywords.some(keyword => productNameLower.includes(keyword) || productCategoryLower.includes(keyword));\n\n    // Проверяем совпадение с поисковым запросом\n    const matchesSearch = searchTermLower === '' || productNameLower.includes(searchTermLower) || productDescLower.includes(searchTermLower);\n    return matchesCategory && matchesSearch;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"category-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F: \", decodedCategoryName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), categoryFilteredProducts.length > 0 ? /*#__PURE__*/_jsxDEV(ProductList, {\n      products: categoryFilteredProducts,\n      currentUser: currentUser,\n      favorites: favorites,\n      toggleFavorite: toggleFavorite\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u041D\\u0435\\u0442 \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432 \\u0432 \\u0434\\u0430\\u043D\\u043D\\u043E\\u0439 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n_s(CategoryPage, \"MGDD8sTUujKJP+spoqFXIbW1eyA=\", false, function () {\n  return [useParams];\n});\n_c = CategoryPage;\nexport default CategoryPage;\nvar _c;\n$RefreshReg$(_c, \"CategoryPage\");","map":{"version":3,"names":["React","useParams","ProductList","jsxDEV","_jsxDEV","CategoryPage","products","searchTerm","loading","error","currentUser","favorites","toggleFavorite","_s","categoryName","children","fileName","_jsxFileName","lineNumber","columnNumber","message","decodedCategoryName","decodeURIComponent","getKeywordsForCategory","category","keywordsMap","toLowerCase","keywords","searchTermLower","categoryFilteredProducts","filter","product","name","productNameLower","productDescLower","description","productCategoryLower","matchesCategory","some","keyword","includes","matchesSearch","className","length","_c","$RefreshReg$"],"sources":["C:/Users/Yulia/OneDrive - Peter the Great St. Petersburg Polytechnical University/Рабочий стол/bound/OPD_site/src/components/CategoryPage.js"],"sourcesContent":["// CategoryPage.js\r\nimport React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport ProductList from './ProductList';\r\n\r\nconst CategoryPage = ({ products, searchTerm, loading, error, currentUser, favorites, toggleFavorite }) => {\r\n    const { categoryName } = useParams();\r\n\r\n    if (loading) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    if (error) {\r\n        return <div>Error: {error.message}</div>;\r\n    }\r\n\r\n    const decodedCategoryName = decodeURIComponent(categoryName);\r\n    \r\n    // Создаем массив ключевых слов для каждой категории\r\n    const getKeywordsForCategory = (category) => {\r\n        const keywordsMap = {\r\n            'Диваны и кресла': ['диван', 'кресло', 'софа', 'канапе'],\r\n            'Шкафы и стеллажи': ['шкаф', 'стеллаж', 'гардероб', 'полка'],\r\n            'Кровати и матрасы': ['кровать', 'матрас', 'спальня', 'изголовье'],\r\n            'Тумбы и комоды': ['тумба', 'комод', 'прикроватная', 'туалетная'],\r\n            'Столы и стулья': ['стол', 'стул', 'табурет', 'обеденный'],\r\n            'Детская мебель': ['детск', 'ребенок', 'кроватка', 'игровой']\r\n        };\r\n        \r\n        return keywordsMap[category] || [category?.toLowerCase()];\r\n    };\r\n\r\n    const keywords = getKeywordsForCategory(decodedCategoryName);\r\n    const searchTermLower = searchTerm.toLowerCase();\r\n\r\n    const categoryFilteredProducts = products.filter(product => {\r\n        // Проверяем совпадение с любым из ключевых слов категории\r\n        if (!product || !product.name) return false;\r\n        \r\n        const productNameLower = (product.name || '').toLowerCase();\r\n        const productDescLower = (product.description || '').toLowerCase();\r\n        const productCategoryLower = (product.category || '').toLowerCase();\r\n\r\n        const matchesCategory = keywords.some(keyword => \r\n            productNameLower.includes(keyword) || \r\n            productCategoryLower.includes(keyword)\r\n        );\r\n        \r\n        // Проверяем совпадение с поисковым запросом\r\n        const matchesSearch = searchTermLower === '' || \r\n        productNameLower.includes(searchTermLower) ||\r\n        productDescLower.includes(searchTermLower);\r\n\r\n        return matchesCategory && matchesSearch;\r\n    });\r\n\r\n    return (\r\n        <div className=\"category-page\">\r\n            <h2>Категория: {decodedCategoryName}</h2>\r\n            {categoryFilteredProducts.length > 0 ? (\r\n                <ProductList\r\n                    products={categoryFilteredProducts}\r\n                    currentUser={currentUser}\r\n                    favorites={favorites}\r\n                    toggleFavorite={toggleFavorite}\r\n                />\r\n            ) : (\r\n                <p>Нет товаров в данной категории.</p>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CategoryPage;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,OAAOC,WAAW,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,YAAY,GAAGA,CAAC;EAAEC,QAAQ;EAAEC,UAAU;EAAEC,OAAO;EAAEC,KAAK;EAAEC,WAAW;EAAEC,SAAS;EAAEC;AAAe,CAAC,KAAK;EAAAC,EAAA;EACvG,MAAM;IAAEC;EAAa,CAAC,GAAGb,SAAS,CAAC,CAAC;EAEpC,IAAIO,OAAO,EAAE;IACT,oBAAOJ,OAAA;MAAAW,QAAA,EAAK;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAChC;EAEA,IAAIV,KAAK,EAAE;IACP,oBAAOL,OAAA;MAAAW,QAAA,GAAK,SAAO,EAACN,KAAK,CAACW,OAAO;IAAA;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAC5C;EAEA,MAAME,mBAAmB,GAAGC,kBAAkB,CAACR,YAAY,CAAC;;EAE5D;EACA,MAAMS,sBAAsB,GAAIC,QAAQ,IAAK;IACzC,MAAMC,WAAW,GAAG;MAChB,iBAAiB,EAAE,CAAC,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,CAAC;MACxD,kBAAkB,EAAE,CAAC,MAAM,EAAE,SAAS,EAAE,UAAU,EAAE,OAAO,CAAC;MAC5D,mBAAmB,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,WAAW,CAAC;MAClE,gBAAgB,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,cAAc,EAAE,WAAW,CAAC;MACjE,gBAAgB,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,WAAW,CAAC;MAC1D,gBAAgB,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS;IAChE,CAAC;IAED,OAAOA,WAAW,CAACD,QAAQ,CAAC,IAAI,CAACA,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEE,WAAW,CAAC,CAAC,CAAC;EAC7D,CAAC;EAED,MAAMC,QAAQ,GAAGJ,sBAAsB,CAACF,mBAAmB,CAAC;EAC5D,MAAMO,eAAe,GAAGrB,UAAU,CAACmB,WAAW,CAAC,CAAC;EAEhD,MAAMG,wBAAwB,GAAGvB,QAAQ,CAACwB,MAAM,CAACC,OAAO,IAAI;IACxD;IACA,IAAI,CAACA,OAAO,IAAI,CAACA,OAAO,CAACC,IAAI,EAAE,OAAO,KAAK;IAE3C,MAAMC,gBAAgB,GAAG,CAACF,OAAO,CAACC,IAAI,IAAI,EAAE,EAAEN,WAAW,CAAC,CAAC;IAC3D,MAAMQ,gBAAgB,GAAG,CAACH,OAAO,CAACI,WAAW,IAAI,EAAE,EAAET,WAAW,CAAC,CAAC;IAClE,MAAMU,oBAAoB,GAAG,CAACL,OAAO,CAACP,QAAQ,IAAI,EAAE,EAAEE,WAAW,CAAC,CAAC;IAEnE,MAAMW,eAAe,GAAGV,QAAQ,CAACW,IAAI,CAACC,OAAO,IACzCN,gBAAgB,CAACO,QAAQ,CAACD,OAAO,CAAC,IAClCH,oBAAoB,CAACI,QAAQ,CAACD,OAAO,CACzC,CAAC;;IAED;IACA,MAAME,aAAa,GAAGb,eAAe,KAAK,EAAE,IAC5CK,gBAAgB,CAACO,QAAQ,CAACZ,eAAe,CAAC,IAC1CM,gBAAgB,CAACM,QAAQ,CAACZ,eAAe,CAAC;IAE1C,OAAOS,eAAe,IAAII,aAAa;EAC3C,CAAC,CAAC;EAEF,oBACIrC,OAAA;IAAKsC,SAAS,EAAC,eAAe;IAAA3B,QAAA,gBAC1BX,OAAA;MAAAW,QAAA,GAAI,0DAAW,EAACM,mBAAmB;IAAA;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,EACxCU,wBAAwB,CAACc,MAAM,GAAG,CAAC,gBAChCvC,OAAA,CAACF,WAAW;MACRI,QAAQ,EAAEuB,wBAAyB;MACnCnB,WAAW,EAAEA,WAAY;MACzBC,SAAS,EAAEA,SAAU;MACrBC,cAAc,EAAEA;IAAe;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClC,CAAC,gBAEFf,OAAA;MAAAW,QAAA,EAAG;IAA+B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CACxC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd,CAAC;AAAAN,EAAA,CAlEKR,YAAY;EAAA,QACWJ,SAAS;AAAA;AAAA2C,EAAA,GADhCvC,YAAY;AAoElB,eAAeA,YAAY;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}