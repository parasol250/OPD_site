{"ast":null,"code":"//import React from 'react';\nimport{useState,useEffect}from'react';import Header from'./components/Header';import ProductList from'./components/ProductList';import Popup from'./components/popup';import'./App.css';import{BrowserRouter,Route,Routes,useNavigate}from'react-router-dom';import CategoryPage from'./components/CategoryPage';import FavoritesModal from'./components/FavouritesModal';import AdminPanel from'./components/AdminPanel';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AppContent(){const[products,setProducts]=useState([]);const[filteredProducts,setFilteredProducts]=useState([]);const[filters,setFilters]=useState(()=>{const savedFilters=localStorage.getItem('filters');return savedFilters?JSON.parse(savedFilters):{price:null,material:null,color:null,dimensions:null,availability:null,brand:null,shop_id:null};});const[searchTerm,setSearchTerm]=useState('');const[isPopupOpen,setIsPopupOpen]=useState(false);const[isLoggedIn,setIsLoggedIn]=useState(()=>{return localStorage.getItem('isLoggedIn')==='true';});const[userRole,setUserRole]=useState(()=>{return localStorage.getItem('userRole')||null;});const[currentUser,setCurrentUser]=useState(()=>{const loggedIn=localStorage.getItem('isLoggedIn')==='true';const role=localStorage.getItem('userRole');return loggedIn&&role?{role}:null;});const[favorites,setFavorites]=useState(()=>{const saved=localStorage.getItem('favorites');return saved?JSON.parse(saved):[];});const[showFavorites,setShowFavorites]=useState(false);const[error,setError]=useState(null);const[loading,setLoading]=useState(true);const navigate=useNavigate();const[showAdminPanel,setShowAdminPanel]=useState(false);useEffect(()=>{const fetchData=async()=>{setLoading(true);try{const response=await fetch('http://localhost:5000/api/products');if(!response.ok){throw new Error(`HTTP error! Status: ${response.status}`);}const data=await response.json();setProducts(shuffleArray(data));setFilteredProducts(shuffleArray(data));if(!window.location.pathname.includes('/category')){navigate('/',{replace:true});}}catch(error){setError(error);console.error(\"Error fetching data:\",error);}finally{setLoading(false);}};fetchData();},[navigate]);useEffect(()=>{localStorage.setItem('isLoggedIn',isLoggedIn.toString());},[isLoggedIn]);useEffect(()=>{if(userRole){localStorage.setItem('userRole',userRole);}else{localStorage.removeItem('userRole');}},[userRole]);useEffect(()=>{let result=[...products];if(filters.price!==null){result=result.filter(p=>{const productPrice=p.price||0;return productPrice<=filters.price;});}if(filters.material){result=result.filter(p=>p.material===filters.material);}if(filters.color){result=result.filter(p=>p.color===filters.color);}if(filters.dimensions){result=result.filter(p=>p.dimensions===filters.dimensions);}if(filters.availability!==null){result=result.filter(p=>p.availability===filters.availability);}if(filters.brand){result=result.filter(p=>p.brand===filters.brand);}if(filters.shop_id){result=result.filter(p=>p.shop_id===filters.shop_id);}if(searchTerm){result=result.filter(p=>p.name.toLowerCase().includes(searchTerm.toLowerCase()));}setFilteredProducts(result);},[filters,searchTerm,products]);useEffect(()=>{localStorage.setItem('filters',JSON.stringify(filters));},[filters]);const handleFilterChange=newFilters=>{setFilters(prev=>({...prev,...newFilters}));};// алгоритм Фишера-Йетса\nconst shuffleArray=array=>{const newArray=[...array];for(let i=newArray.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[newArray[i],newArray[j]]=[newArray[j],newArray[i]];}return newArray;};const handleSearch=term=>{setSearchTerm(term);};const handleOpenPopup=()=>{setIsPopupOpen(true);};const handleClosePopup=()=>{setIsPopupOpen(false);};const handleLogin=async(username,role)=>{try{const response=await fetch('http://localhost:5000/api/auth',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username})});const data=await response.json();if(data.success){setIsLoggedIn(true);setCurrentUser({id:data.user.id,username,role:data.user.role});setUserRole(data.user.role);setIsPopupOpen(false);}else{alert(data.message||'Authentication failed');}}catch(error){console.error('Auth error:',error);alert('Authentication failed');}};const handleRegister=async username=>{try{setIsLoggedIn(true);setCurrentUser({username,role:'user'});setUserRole('user');setIsPopupOpen(false);localStorage.setItem('isLoggedIn','true');console.log(`User ${username} registered successfully`);}catch(error){console.error('Registration error:',error);}};const handleLogout=()=>{setIsLoggedIn(false);setCurrentUser(null);setUserRole(null);setFavorites([]);localStorage.removeItem('isLoggedIn');localStorage.removeItem('userRole');localStorage.removeItem('favorites');setFilters({price:null,material:null,color:null,dimensions:null,availability:null,brand:null,shop_id:null});};const handleOpenAdminPanel=()=>{setShowAdminPanel(true);};const handleCloseAdminPanel=()=>{setShowAdminPanel(false);};const toggleFavorite=productId=>{setFavorites(prev=>{const newFavorites=prev.includes(productId)?prev.filter(id=>id!==productId):[...prev,productId];localStorage.setItem('favorites',JSON.stringify(newFavorites));return newFavorites;});};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error.message]});return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(Header,{onOpenPopup:isLoggedIn?handleLogout:handleOpenPopup,onSearch:handleSearch,onFilterChange:handleFilterChange,isLoggedIn:isLoggedIn,userRole:userRole,onShowFavorites:()=>setShowFavorites(true),onOpenAdminPanel:handleOpenAdminPanel,filters:filters}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProductList,{products:filteredProducts,currentUser:currentUser,favorites:favorites,toggleFavorite:toggleFavorite})}),/*#__PURE__*/_jsx(Route,{path:\"/category/:categoryName\",element:/*#__PURE__*/_jsx(CategoryPage,{products:filteredProducts,searchTerm:searchTerm,loading:loading,error:error,currentUser:currentUser,favorites:favorites,toggleFavorite:toggleFavorite,filters:filters})})]})}),showFavorites&&/*#__PURE__*/_jsx(FavoritesModal,{show:showFavorites,onClose:()=>setShowFavorites(false),favorites:favorites,products:products,toggleFavorite:toggleFavorite}),isPopupOpen&&/*#__PURE__*/_jsx(Popup,{isOpen:isPopupOpen,onClose:()=>handleClosePopup(),onLogin:handleLogin,onRegister:()=>handleRegister()}),showAdminPanel&&/*#__PURE__*/_jsx(AdminPanel,{onClose:handleCloseAdminPanel,currentUser:currentUser})]});}function App(){return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(AppContent,{})});}export default App;","map":{"version":3,"names":["useState","useEffect","Header","ProductList","Popup","BrowserRouter","Route","Routes","useNavigate","CategoryPage","FavoritesModal","AdminPanel","jsx","_jsx","jsxs","_jsxs","AppContent","products","setProducts","filteredProducts","setFilteredProducts","filters","setFilters","savedFilters","localStorage","getItem","JSON","parse","price","material","color","dimensions","availability","brand","shop_id","searchTerm","setSearchTerm","isPopupOpen","setIsPopupOpen","isLoggedIn","setIsLoggedIn","userRole","setUserRole","currentUser","setCurrentUser","loggedIn","role","favorites","setFavorites","saved","showFavorites","setShowFavorites","error","setError","loading","setLoading","navigate","showAdminPanel","setShowAdminPanel","fetchData","response","fetch","ok","Error","status","data","json","shuffleArray","window","location","pathname","includes","replace","console","setItem","toString","removeItem","result","filter","p","productPrice","name","toLowerCase","stringify","handleFilterChange","newFilters","prev","array","newArray","i","length","j","Math","floor","random","handleSearch","term","handleOpenPopup","handleClosePopup","handleLogin","username","method","headers","body","success","id","user","alert","message","handleRegister","log","handleLogout","handleOpenAdminPanel","handleCloseAdminPanel","toggleFavorite","productId","newFavorites","children","className","onOpenPopup","onSearch","onFilterChange","onShowFavorites","onOpenAdminPanel","path","element","show","onClose","isOpen","onLogin","onRegister","App"],"sources":["C:/Users/Yulia/OneDrive - Peter the Great St. Petersburg Polytechnical University/Рабочий стол/bound/OPD_site/src/App.js"],"sourcesContent":["//import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport Header from './components/Header';\r\nimport ProductList from './components/ProductList';\r\nimport Popup from './components/popup';\r\nimport './App.css';\r\nimport { BrowserRouter, Route, Routes, useNavigate  } from 'react-router-dom';\r\nimport CategoryPage from './components/CategoryPage';\r\nimport FavoritesModal from './components/FavouritesModal';\r\nimport AdminPanel from './components/AdminPanel'; \r\n\r\nfunction AppContent() {\r\n  const [products, setProducts] = useState([]);\r\n  const [filteredProducts, setFilteredProducts] = useState([]);\r\n  const [filters, setFilters] = useState(() => {\r\n    const savedFilters = localStorage.getItem('filters');\r\n    return savedFilters ? JSON.parse(savedFilters) : {\r\n      price: null,\r\n      material: null,\r\n      color: null,\r\n      dimensions: null,\r\n      availability: null,\r\n      brand: null,\r\n      shop_id: null\r\n    };\r\n  });\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [isPopupOpen, setIsPopupOpen] = useState(false);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(() => {\r\n    return localStorage.getItem('isLoggedIn') === 'true';\r\n  });\r\n  const [userRole, setUserRole] = useState(() => {\r\n    return localStorage.getItem('userRole') || null;\r\n  });\r\n  const [currentUser, setCurrentUser] = useState(() => {\r\n    const loggedIn = localStorage.getItem('isLoggedIn') === 'true';\r\n    const role = localStorage.getItem('userRole');\r\n    return loggedIn && role ? { role } : null;\r\n  });\r\n  const [favorites, setFavorites] = useState(() => {\r\n    const saved = localStorage.getItem('favorites');\r\n    return saved ? JSON.parse(saved) : [];\r\n  });\r\n  const [showFavorites, setShowFavorites] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n  const [showAdminPanel, setShowAdminPanel] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const response = await fetch('http://localhost:5000/api/products');\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! Status: ${response.status}`);\r\n        }\r\n        const data = await response.json();\r\n        setProducts(shuffleArray(data));\r\n        setFilteredProducts(shuffleArray(data));\r\n\r\n        if (!window.location.pathname.includes('/category')) {\r\n          navigate('/', { replace: true });\r\n        }\r\n      } catch (error) {\r\n        setError(error);\r\n        console.error(\"Error fetching data:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('isLoggedIn', isLoggedIn.toString());\r\n  }, [isLoggedIn]);\r\n  \r\n  useEffect(() => {\r\n    if (userRole) {\r\n      localStorage.setItem('userRole', userRole);\r\n    } else {\r\n      localStorage.removeItem('userRole');\r\n    }\r\n  }, [userRole]);\r\n\r\n  useEffect(() => {\r\n    let result = [...products];\r\n    if (filters.price !== null) {\r\n      result = result.filter(p => {\r\n        const productPrice = p.price || 0;\r\n        return productPrice <= filters.price;\r\n      });\r\n    }\r\n    if (filters.material) {\r\n      result = result.filter(p => p.material === filters.material);\r\n    }\r\n    if (filters.color) {\r\n      result = result.filter(p => p.color === filters.color);\r\n    }\r\n    if (filters.dimensions) {\r\n      result = result.filter(p => p.dimensions === filters.dimensions);\r\n    }\r\n    if (filters.availability !== null) {\r\n      result = result.filter(p => p.availability === filters.availability);\r\n    }\r\n    if (filters.brand) {\r\n      result = result.filter(p => p.brand === filters.brand);\r\n    }\r\n    if (filters.shop_id) {\r\n      result = result.filter(p => p.shop_id === filters.shop_id);\r\n    }\r\n    \r\n    if (searchTerm) {\r\n      result = result.filter(p => \r\n        p.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n    \r\n    setFilteredProducts(result);\r\n  }, [filters, searchTerm, products]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('filters', JSON.stringify(filters));\r\n  }, [filters]);\r\n\r\n  const handleFilterChange = (newFilters) => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      ...newFilters\r\n    }));\r\n  };\r\n\r\n  // алгоритм Фишера-Йетса\r\n  const shuffleArray = (array) => {\r\n    const newArray = [...array];\r\n    for (let i = newArray.length - 1; i > 0; i--) {\r\n      const j = Math.floor(Math.random() * (i + 1));\r\n      [newArray[i], newArray[j]] = [newArray[j], newArray[i]];\r\n    }\r\n    return newArray;\r\n  };\r\n\r\n  const handleSearch = (term) => {setSearchTerm(term);};\r\n  const handleOpenPopup = () => {setIsPopupOpen(true);};\r\n  const handleClosePopup = () => {setIsPopupOpen(false);};\r\n\r\n  const handleLogin = async (username, role) => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/auth', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ username })\r\n      });\r\n      \r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setIsLoggedIn(true);\r\n        setCurrentUser({ \r\n          id: data.user.id,\r\n          username, \r\n          role: data.user.role \r\n        });\r\n        setUserRole(data.user.role);\r\n        setIsPopupOpen(false);\r\n      } else {\r\n        alert(data.message || 'Authentication failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Auth error:', error);\r\n      alert('Authentication failed');\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (username) => {\r\n    try {\r\n      setIsLoggedIn(true);\r\n      setCurrentUser({ username, role: 'user' });\r\n      setUserRole('user');\r\n      setIsPopupOpen(false);\r\n      localStorage.setItem('isLoggedIn', 'true');\r\n      console.log(`User ${username} registered successfully`);\r\n    } catch (error) {\r\n      console.error('Registration error:', error);\r\n    }\r\n  };\r\n  \r\n  const handleLogout = () => {\r\n    setIsLoggedIn(false);\r\n    setCurrentUser(null);\r\n    setUserRole(null);\r\n    setFavorites([]);\r\n    localStorage.removeItem('isLoggedIn');\r\n    localStorage.removeItem('userRole');\r\n    localStorage.removeItem('favorites');\r\n    setFilters({\r\n      price: null,\r\n      material: null,\r\n      color: null,\r\n      dimensions: null,\r\n      availability: null,\r\n      brand: null,\r\n      shop_id: null\r\n    });\r\n  };\r\n\r\n  const handleOpenAdminPanel = () => {\r\n    setShowAdminPanel(true);\r\n  };\r\n\r\n  const handleCloseAdminPanel = () => {\r\n    setShowAdminPanel(false);\r\n  };\r\n\r\n  const toggleFavorite = (productId) => {\r\n    setFavorites(prev => {\r\n      const newFavorites = prev.includes(productId)\r\n        ? prev.filter(id => id !== productId)\r\n        : [...prev, productId];\r\n      localStorage.setItem('favorites', JSON.stringify(newFavorites));\r\n      return newFavorites;\r\n    });\r\n  };\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n  if (error)return <div>Error: {error.message}</div>;\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      <Header\r\n        onOpenPopup={isLoggedIn ? handleLogout : handleOpenPopup}\r\n        onSearch={handleSearch}\r\n        onFilterChange={handleFilterChange}\r\n        isLoggedIn={isLoggedIn}\r\n        userRole={userRole}\r\n        onShowFavorites={() => setShowFavorites(true)}\r\n        onOpenAdminPanel={handleOpenAdminPanel}\r\n        filters={filters}\r\n      />\r\n      <div className=\"main-content\">\r\n        <Routes>\r\n          <Route path=\"/\" element={            \r\n            <ProductList \r\n              products={filteredProducts}\r\n              currentUser={currentUser}\r\n              favorites={favorites}\r\n              toggleFavorite={toggleFavorite}\r\n             />\r\n            } />\r\n          <Route \r\n            path=\"/category/:categoryName\" \r\n            element={\r\n              <CategoryPage \r\n                products={filteredProducts} \r\n                searchTerm={searchTerm} \r\n                loading={loading}\r\n                error={error}\r\n                currentUser={currentUser}\r\n                favorites={favorites}\r\n                toggleFavorite={toggleFavorite}\r\n                filters={filters}\r\n              />\r\n            } \r\n          />\r\n        </Routes>\r\n      </div>\r\n      {showFavorites && (\r\n        <FavoritesModal \r\n          show={showFavorites}\r\n          onClose={() => setShowFavorites(false)}\r\n          favorites={favorites}\r\n          products={products}\r\n          toggleFavorite={toggleFavorite}\r\n        />\r\n      )}\r\n      {isPopupOpen && (\r\n        <Popup\r\n          isOpen={isPopupOpen}\r\n          onClose={() => handleClosePopup()}\r\n          onLogin={handleLogin}\r\n          onRegister={() => handleRegister()}\r\n        />\r\n      )}\r\n      {showAdminPanel && (\r\n          <AdminPanel\r\n            onClose={handleCloseAdminPanel}\r\n            currentUser={currentUser}\r\n          />\r\n        )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <AppContent />\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}