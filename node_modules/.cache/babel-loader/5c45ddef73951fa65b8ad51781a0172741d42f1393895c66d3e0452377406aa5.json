{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yulia\\\\OneDrive - Peter the Great St. Petersburg Polytechnical University\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\bound\\\\OPD_site\\\\src\\\\components\\\\FavouritesModal.js\";\nimport React from 'react';\nimport './FavouritesModal.css';\nimport defaultImage from './default-product-image.jpg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FavoritesModal = ({\n  show,\n  onClose,\n  favorites,\n  products,\n  toggleFavorite\n}) => {\n  if (!show) return null;\n  const favoriteProducts = products.filter(p => favorites.includes(p.id));\n  const getImageSource = product => {\n    if (product.image_paths) {\n      const pathsArray = Array.isArray(product.image_paths) ? product.image_paths : String(product.image_paths).split(',').map(path => path.trim());\n      if (pathsArray.length > 0) {\n        const firstPath = pathsArray[0];\n        const cleanPath = firstPath.startsWith('full/') ? firstPath.substring(5) : firstPath;\n        return `/images/full/${cleanPath}`;\n      }\n    }\n    if (product.images && product.images.length > 0) {\n      return product.images[0];\n    }\n    return defaultImage;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"close-button\",\n        onClick: onClose,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"favorites-list\",\n        children: favoriteProducts.length > 0 ? favoriteProducts.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"favorite-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"favorite-image-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: getImageSource(product),\n              alt: product.name,\n              onError: e => {\n                e.target.src = defaultImage;\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"remove-favorite\",\n              onClick: () => toggleFavorite(product.id),\n              children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"favorite-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: product.price ? `${product.price.toLocaleString('ru-RU')} руб.` : 'Цена не указана'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this), product.shop_name && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\u041C\\u0430\\u0433\\u0430\\u0437\\u0438\\u043D: \", product.shop_name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 41\n            }, this), product.original_url && /*#__PURE__*/_jsxDEV(\"a\", {\n              href: product.original_url,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              className: \"shop-link\",\n              children: \"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 \\u0432 \\u043C\\u0430\\u0433\\u0430\\u0437\\u0438\\u043D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this)]\n        }, product.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u041D\\u0435\\u0442 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u044B\\u0445 \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_c = FavoritesModal;\nexport default FavoritesModal;\nvar _c;\n$RefreshReg$(_c, \"FavoritesModal\");","map":{"version":3,"names":["React","defaultImage","jsxDEV","_jsxDEV","FavoritesModal","show","onClose","favorites","products","toggleFavorite","favoriteProducts","filter","p","includes","id","getImageSource","product","image_paths","pathsArray","Array","isArray","String","split","map","path","trim","length","firstPath","cleanPath","startsWith","substring","images","className","onClick","children","e","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","name","onError","target","price","toLocaleString","shop_name","original_url","href","rel","_c","$RefreshReg$"],"sources":["C:/Users/Yulia/OneDrive - Peter the Great St. Petersburg Polytechnical University/Рабочий стол/bound/OPD_site/src/components/FavouritesModal.js"],"sourcesContent":["import React from 'react';\r\nimport './FavouritesModal.css';\r\nimport defaultImage from './default-product-image.jpg';\r\n\r\n\r\n\r\nconst FavoritesModal = ({ \r\n  show, \r\n  onClose, \r\n  favorites, \r\n  products, \r\n  toggleFavorite \r\n}) => {\r\n  if (!show) return null;\r\n\r\n  const favoriteProducts = products.filter(p => favorites.includes(p.id));\r\n\r\n  const getImageSource = (product) => {\r\n    if (product.image_paths) {\r\n      const pathsArray = Array.isArray(product.image_paths) \r\n        ? product.image_paths \r\n        : String(product.image_paths).split(',').map(path => path.trim());\r\n      \r\n      if (pathsArray.length > 0) {\r\n        const firstPath = pathsArray[0];\r\n        const cleanPath = firstPath.startsWith('full/') \r\n          ? firstPath.substring(5) \r\n          : firstPath;\r\n        return `/images/full/${cleanPath}`;\r\n      }\r\n    }\r\n    \r\n    if (product.images && product.images.length > 0) {\r\n      return product.images[0];\r\n    }\r\n    \r\n    return defaultImage;\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-overlay\" onClick={onClose}>\r\n      <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\r\n        <h2>Избранные товары</h2>\r\n        <button className=\"close-button\" onClick={onClose}>×</button>\r\n        <div className=\"favorites-list\">\r\n          {favoriteProducts.length > 0 ? (\r\n            favoriteProducts.map(product => (\r\n              <div key={product.id} className=\"favorite-item\">\r\n                <div className=\"favorite-image-container\">\r\n                  <img \r\n                    src={getImageSource(product)} \r\n                    alt={product.name}\r\n                    onError={(e) => {\r\n                      e.target.src = defaultImage;\r\n                    }}\r\n                  />\r\n                  <button \r\n                    className=\"remove-favorite\"\r\n                    onClick={() => toggleFavorite(product.id)}\r\n                  >\r\n                    Удалить\r\n                  </button>\r\n                </div>\r\n                <div className=\"favorite-info\">\r\n                  <h3>{product.name}</h3>\r\n                  <p>{product.price ? `${product.price.toLocaleString('ru-RU')} руб.` : 'Цена не указана'}</p>\r\n                  {product.shop_name && <p>Магазин: {product.shop_name}</p>}\r\n                  {product.original_url && (\r\n                    <a \r\n                      href={product.original_url} \r\n                      target=\"_blank\" \r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"shop-link\"\r\n                    >\r\n                      Перейти в магазин\r\n                    </a>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <p>Нет избранных товаров</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FavoritesModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}