{"ast":null,"code":"// popup.js\nimport{useState}from'react';import React from'react';import'./popup.css';// Импортируем стили\nimport checkCredentials from'./Login';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Popup(_ref){let{isOpen,onClose,onLogin,onRegister}=_ref;const[isLogin,setIsLogin]=useState(true);// State для переключения между входом и регистрацией\n//const [username, setUsername] = useState('');\nconst[password,setPassword]=useState('');const[error,setError]=useState('');const toggleForm=()=>{setIsLogin(!isLogin);setError('');};const handleLoginSubmit=async e=>{e.preventDefault();setError('');if(!username||!password){setError('Пожалуйста, введите логин и пароль');return;}try{const isValid=await checkCredentials(username,password);if(isValid){setError('Welcome, уважаемый мастер пауков');onLogin();// call login function passed from parent\n}else{setError('Неверные учетные данные');}}catch(err){setError('Ошибка при проверке учетных данных');console.error('Login error:',err);}};const handleRegisterSubmit=e=>{e.preventDefault();onRegister();// call register function passed from parent\n};//const handleLoginSubmit = (e) => {\n//e.preventDefault();\n// Validate username and password (example validation)\n//if (username === 'user' && password === 'password') {\n//onLogin();  // call login function passed from parent\n//} else {\n//alert('Invalid credentials');\n//}\n//};\n//const handleRegisterSubmit = (e) => {\n//e.preventDefault();\n//onRegister(); // call register function passed from parent\n//};\nif(!isOpen){return null;// Ничего не отображать, если всплывающее окно закрыто\n}return/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-body\",children:[/*#__PURE__*/_jsx(\"h2\",{children:isLogin?'Вход в аккаунт':'Регистрация'}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:isLogin?handleLoginSubmit:handleRegisterSubmit,children:[isLogin&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u041B\\u043E\\u0433\\u0438\\u043D\",value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",value:password,onChange:e=>setPassword(e.target.value)})]}),!isLogin&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:isLogin?'Войти':'Зарегистрироваться'})]}),/*#__PURE__*/_jsx(\"p\",{onClick:toggleForm,className:\"toggle-form\",children:isLogin?'Нет аккаунта? Зарегистрироваться':'Уже есть аккаунт? Войти'}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-close\",onClick:onClose,children:\"\\u2716\"})]})})});}export default Popup;","map":{"version":3,"names":["useState","React","checkCredentials","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Popup","_ref","isOpen","onClose","onLogin","onRegister","isLogin","setIsLogin","password","setPassword","error","setError","toggleForm","handleLoginSubmit","e","preventDefault","username","isValid","err","console","handleRegisterSubmit","className","children","onSubmit","type","placeholder","value","onChange","setUsername","target","onClick"],"sources":["C:/Users/Yulia/OneDrive - Peter the Great St. Petersburg Polytechnical University/Рабочий стол/bound/OPD_site/src/components/popup.js"],"sourcesContent":["// popup.js\r\nimport { useState } from 'react';\r\nimport React from 'react';\r\nimport './popup.css'; // Импортируем стили\r\nimport checkCredentials from './Login'\r\n\r\nfunction Popup({ isOpen, onClose, onLogin, onRegister }) {\r\n  const [isLogin, setIsLogin] = useState(true); // State для переключения между входом и регистрацией\r\n  //const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const toggleForm = () => {\r\n    setIsLogin(!isLogin);\r\n    setError('');\r\n  };\r\n  \r\n\r\n  const handleLoginSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    \r\n    if (!username || !password) {\r\n      setError('Пожалуйста, введите логин и пароль');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const isValid = await checkCredentials(username, password);\r\n      \r\n      if (isValid) {\r\n        \r\n        setError('Welcome, уважаемый мастер пауков');\r\n        onLogin();  // call login function passed from parent\r\n      } else {\r\n        setError('Неверные учетные данные');\r\n      }\r\n    } catch (err) {\r\n      setError('Ошибка при проверке учетных данных');\r\n      console.error('Login error:', err);\r\n    }\r\n  };\r\n\r\n  const handleRegisterSubmit = (e) => {\r\n    e.preventDefault();\r\n    onRegister(); // call register function passed from parent\r\n  };\r\n\r\n  //const handleLoginSubmit = (e) => {\r\n    //e.preventDefault();\r\n    // Validate username and password (example validation)\r\n    //if (username === 'user' && password === 'password') {\r\n      //onLogin();  // call login function passed from parent\r\n    //} else {\r\n      //alert('Invalid credentials');\r\n    //}\r\n  //};\r\n\r\n    //const handleRegisterSubmit = (e) => {\r\n    //e.preventDefault();\r\n     //onRegister(); // call register function passed from parent\r\n  //};\r\n\r\n  if (!isOpen) {\r\n    return null; // Ничего не отображать, если всплывающее окно закрыто\r\n  }\r\n\r\n  return (\r\n    <div className=\"popup\">\r\n      <div className=\"popup-container\">\r\n        <div className=\"popup-body\">\r\n          <h2>{isLogin ? 'Вход в аккаунт' : 'Регистрация'}</h2>\r\n          {error && <div className=\"error-message\">{error}</div>}\r\n          <form onSubmit={isLogin ? handleLoginSubmit : handleRegisterSubmit}>\r\n            {isLogin && (\r\n              <>\r\n                <input \r\n                  type=\"text\" \r\n                  placeholder=\"Логин\" \r\n                  value={username}\r\n                  onChange={(e) => setUsername(e.target.value)}\r\n                />\r\n                <input \r\n                  type=\"password\" \r\n                  placeholder=\"Пароль\" \r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                />\r\n              </>\r\n            )}\r\n            {!isLogin && (\r\n              <>\r\n                <input type=\"text\" placeholder=\"Email\" />\r\n                <input type=\"text\" placeholder=\"Имя пользователя\" />\r\n                <input type=\"password\" placeholder=\"Пароль\" />\r\n                <input type=\"password\" placeholder=\"Подтвердите пароль\" />\r\n              </>\r\n            )}\r\n            <button type=\"submit\">{isLogin ? 'Войти' : 'Зарегистрироваться'}</button>\r\n          </form>\r\n\r\n          <p onClick={toggleForm} className=\"toggle-form\">\r\n            {isLogin ? 'Нет аккаунта? Зарегистрироваться' : 'Уже есть аккаунт? Войти'}\r\n          </p>\r\n\r\n          <div className=\"popup-close\" onClick={onClose}>&#10006;</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Popup;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}