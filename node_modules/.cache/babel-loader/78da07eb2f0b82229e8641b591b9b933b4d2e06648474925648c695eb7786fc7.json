{"ast":null,"code":"// popup.js\nimport{useState}from'react';import React from'react';import'./popup.css';// Импортируем стили\nimport checkCredentials from'./Login';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Popup(_ref){let{isOpen,onClose,onLogin,onRegister}=_ref;const[isLogin,setIsLogin]=useState(true);// State для переключения между входом и регистрацией\nconst[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const toggleForm=()=>{setIsLogin(!isLogin);setError('');};const handleLoginSubmit=async e=>{e.preventDefault();setError('');if(!username||!password){setError('Пожалуйста, введите логин и пароль');return;}try{const isValid=await checkCredentials(username,password);if(isValid){setError('Welcome, уважаемый мастер пауков');onLogin();// call login function passed from parent\n}else{setError('Неверные учетные данные');}}catch(err){setError('Ошибка при проверке учетных данных');console.error('Login error:',err);}};const handleRegisterSubmit=e=>{e.preventDefault();onRegister();// call register function passed from parent\n};if(!isOpen){return null;// Ничего не отображать, если всплывающее окно закрыто\n}return/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-body\",children:[/*#__PURE__*/_jsx(\"h2\",{children:isLogin?'Вход в аккаунт':'Регистрация'}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:isLogin?handleLoginSubmit:handleRegisterSubmit,children:[isLogin&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u041B\\u043E\\u0433\\u0438\\u043D\",value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",value:password,onChange:e=>setPassword(e.target.value)})]}),!isLogin&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:isLogin?'Войти':'Зарегистрироваться'})]}),/*#__PURE__*/_jsx(\"p\",{onClick:toggleForm,className:\"toggle-form\",children:isLogin?'Нет аккаунта? Зарегистрироваться':'Уже есть аккаунт? Войти'}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-close\",onClick:onClose,children:\"\\u2716\"})]})})});}export default Popup;","map":{"version":3,"names":["useState","React","checkCredentials","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Popup","_ref","isOpen","onClose","onLogin","onRegister","isLogin","setIsLogin","username","setUsername","password","setPassword","error","setError","toggleForm","handleLoginSubmit","e","preventDefault","isValid","err","console","handleRegisterSubmit","className","children","onSubmit","type","placeholder","value","onChange","target","onClick"],"sources":["C:/Users/Yulia/OneDrive - Peter the Great St. Petersburg Polytechnical University/Рабочий стол/bound/OPD_site/src/components/popup.js"],"sourcesContent":["// popup.js\r\nimport { useState } from 'react';\r\nimport React from 'react';\r\nimport './popup.css'; // Импортируем стили\r\nimport checkCredentials from './Login'\r\n\r\nfunction Popup({ isOpen, onClose, onLogin, onRegister }) {\r\n  const [isLogin, setIsLogin] = useState(true); // State для переключения между входом и регистрацией\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const toggleForm = () => {\r\n    setIsLogin(!isLogin);\r\n    setError('');\r\n  };\r\n  \r\n  const handleLoginSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    \r\n    if (!username || !password) {\r\n      setError('Пожалуйста, введите логин и пароль');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const isValid = await checkCredentials(username, password);\r\n      \r\n      if (isValid) {\r\n        \r\n        setError('Welcome, уважаемый мастер пауков');\r\n        onLogin();  // call login function passed from parent\r\n      } else {\r\n        setError('Неверные учетные данные');\r\n      }\r\n    } catch (err) {\r\n      setError('Ошибка при проверке учетных данных');\r\n      console.error('Login error:', err);\r\n    }\r\n  };\r\n\r\n  const handleRegisterSubmit = (e) => {\r\n    e.preventDefault();\r\n    onRegister(); // call register function passed from parent\r\n  };\r\n\r\n  if (!isOpen) {\r\n    return null; // Ничего не отображать, если всплывающее окно закрыто\r\n  }\r\n\r\n  return (\r\n    <div className=\"popup\">\r\n      <div className=\"popup-container\">\r\n        <div className=\"popup-body\">\r\n          <h2>{isLogin ? 'Вход в аккаунт' : 'Регистрация'}</h2>\r\n          {error && <div className=\"error-message\">{error}</div>}\r\n          <form onSubmit={isLogin ? handleLoginSubmit : handleRegisterSubmit}>\r\n            {isLogin && (\r\n              <>\r\n                <input \r\n                  type=\"text\" \r\n                  placeholder=\"Логин\" \r\n                  value={username}\r\n                  onChange={(e) => setUsername(e.target.value)}\r\n                />\r\n                <input \r\n                  type=\"password\" \r\n                  placeholder=\"Пароль\" \r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                />\r\n              </>\r\n            )}\r\n            {!isLogin && (\r\n              <>\r\n                <input type=\"text\" placeholder=\"Email\" />\r\n                <input type=\"text\" placeholder=\"Имя пользователя\" />\r\n                <input type=\"password\" placeholder=\"Пароль\" />\r\n                <input type=\"password\" placeholder=\"Подтвердите пароль\" />\r\n              </>\r\n            )}\r\n            <button type=\"submit\">{isLogin ? 'Войти' : 'Зарегистрироваться'}</button>\r\n          </form>\r\n\r\n          <p onClick={toggleForm} className=\"toggle-form\">\r\n            {isLogin ? 'Нет аккаунта? Зарегистрироваться' : 'Уже есть аккаунт? Войти'}\r\n          </p>\r\n\r\n          <div className=\"popup-close\" onClick={onClose}>&#10006;</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Popup;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}